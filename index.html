<!DOCTYPE html>
<!-- 
  This HTML file is based *exactly* on the layout from the image you sent.
  It's set to 'ar' (Arabic) by default but can be changed.
-->
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- Game Title -->
    <title data-lang="title">Dr.WEEE's World</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Feather Icons -->
    <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
    
    <!-- 
      Main App Container
      The background image is applied here by the script.
    -->
    <div id="appContainer">

        <!-- Loading Screen -->
        <div class="loading-screen" id="loadingScreen">
            <h1 class="loading-title" data-lang="gameTitle">ÙƒÙ„Ù…Ø§Øª</h1>
            <div class="loading-bar-container"><div class="loading-bar" id="loadingBar"></div></div>
            <p class="loading-text" id="loadingText">Loading... 0%</p>
        </div>
        
        <!-- AI Puzzle Loading Spinner (Hidden by default) -->
        <div class="loading-screen" id="aiLoader" style="display: none;">
            <div class="spinner"></div>
            <p classs="loading-text" id="aiLoaderText" data-lang="aiLoading">Finding a new puzzle...</p>
        </div>

        <!-- 
          Main Menu Screen
          This is the "Home" screen from your image.
        -->
        <div class="game-screen" id="mainMenu">
            <div class="top-bar">
                <div class="currency-display">
                    <!-- 
                      Updated to use your points icon.
                      Please download the image from the link you sent,
                      save it as "points_icon.png" in your project folder.
                    -->
                    <img src="points_icon.png" alt="Points" class="currency-icon">
                    <span id="mainCurrency">1230</span>
                </div>
                <!-- Icons exactly as requested -->
                <div class="icon-buttons">
                    <button class="icon-btn" onclick="showLeaderboard()" aria-label="Leaderboard">
                        <!-- 
                          You will need to download the icon from the link you sent, 
                          save it as "leaderboard_icon.png" in your project folder.
                        -->
                        <img src="leaderboard_icon.png" alt="Leaderboard" class="img-icon">
                    </button>
                    <button class="icon-btn" onclick="showFriends()" aria-label="Friends">
                        <!-- 
                          You will need to download the icon from the link you sent, 
                          save it as "friends_icon.png" in your project folder.
                        -->
                        <img src="friends_icon.png" alt="Friends" class="img-icon">
                    </button>
                    <button class="icon-btn" onclick="toggleSettings()" aria-label="Settings">
                        <!-- 
                          You will need to download the icon from the link you sent, 
                          save it as "settings_icon.png" in your project folder.
                        -->
                        <img src="settings_icon.png" alt="Settings" class="img-icon">
                    </button>
                </div>
            </div>

            <!-- Main Content Area -->
            <div class="main-content">
                
                <!-- Progress Bar Area (with Glassmorphism) -->
                <div class="progress-container">
                    <!-- Title "WORDS" now inside the bar -->
                    <h1 class="game-title" data-lang="gameTitle">ÙƒÙ„Ù…Ø§Øª</h1>
                    
                    <div class="progress-labels">
                        <span class="progress-rank" data-lang="beginner">Ù…Ø¨ØªØ¯Ø¦</span>
                        <span class="progress-rank" data-lang="expert">Ù…ØªØ¹Ù„Ù…</span>
                    </div>
                    <div class="progress-bar-outer">
                        <div class="progress-bar-inner" id="levelProgress" style="width: 18%;"></div>
                    </div>
                    <div class="progress-value" id="progressValue">18/100</div>
                </div>
                
                <!-- Play Button (Level) -->
                <button class="play-btn" id="continueBtn" onclick="startGame()">
                    <span data-lang="continueLevel">Ø§Ù„Ù…Ø³ØªÙˆÙ‰</span> 7
                </button>
            </div>
            
            <!-- Language Selector (optional, could be in settings) -->
            <div class="language-selector-container">
                <select id="languageSelect" onchange="changeLanguage()">
                    <option value="ar">ðŸ‡¸ðŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                    <option value="en">ðŸ‡¬ðŸ‡§ English</option>
                    <option value="it">ðŸ‡®ðŸ‡¹ Italiano</option>
                    <option value="es">ðŸ‡ªðŸ‡¸ EspaÃ±ol</option>
                </select>
            </div>
        </div>
        
        <!-- 
          Word Puzzle Screen (Hidden by default)
          This is the "Game" screen from your image.
        -->
        <div class="game-screen" id="gameContainer" style="display: none;">
            <div class="top-bar">
                <div class="currency-display">
                    <!-- 
                      Updated to use your points icon.
                      Please download the image from the link you sent,
                      save it as "points_icon.png" in your project folder.
                    -->
                    <img src="points_icon.png" alt="Points" class="currency-icon">
                    <span id="gameCurrency">1230</span>
                </div>
                <!-- Level Title -->
                <h2 class="game-level-title" id="gameLevelTitle">
                    <span data-lang="level">Ø§Ù„Ù…Ø³ØªÙˆÙ‰</span> 7
                </h2>
                <!-- Home Button -->
                <div class="icon-buttons">
                    <button class="icon-btn" onclick="backToMenu()" aria-label="Home">
                        <i data-feather="home"></i>
                    </button>
                </div>
            </div>

            <div class="puzzle-content">
                <!-- Hint Box -->
                <div class="hint-box" id="gameHint">
                    Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©
                </div>
                
                <!-- Answer Boxes (Will be empty) -->
                <div class="answer-boxes" id="answerBoxes">
                    <!-- Letter boxes for the answer will be generated here by script.js -->
                </div>
                
                <!-- Letter Grid (3 columns) -->
                <div class="letter-grid" id="letterGrid">
                    <!-- 12 letter tiles will be generated here by script.js -->
                </div>

                <!-- Footer with Hints -->
                <div class="game-footer">
                    <button class="power-up-btn" id="powerHintBtn" onclick="usePowerHint()">
                        <i data-feather="zap"></i> <!-- "Fire" icon -->
                        <span>150</span>
                    </button>
                    <a href="#" class="report-link" data-lang="reportProblem">Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ù…Ø´ÙƒÙ„Ø©</a>
                    <button class="power-up-btn" id="hintBtn" onclick="useHint()">
                        <i data-feather="help-circle"></i> <!-- "Wand" icon -->
                        <span>50</span>
                    </button>
                </div>
            </div>
        </div>


        <!-- 
          PANELS (Overlays)
        -->

        <!-- Settings Panel -->
        <div class="panel" id="settingsPanel" style="display: none;">
            <h2 data-lang="settings">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>
            <button class="close-btn" onclick="toggleSettings()"><i data-feather="x"></i></button>
            <div class="panel-content">
                <div class="setting-item">
                    <label class="setting-label" data-lang="playerName">Player Name</label>
                    <input type="text" class="name-input" id="playerNameInput" placeholder="Enter your name" maxlength="20">
                </div>
                <div class="setting-item">
                    <label class="setting-label" data-lang="musicVolume">Music Volume</label>
                    <input type="range" class="volume-slider" id="musicVolume" min="0" max="100" value="50">
                </div>
                <div class="setting-item">
                    <label class="setting-label" data-lang="sfxVolume">SFX Volume</label>
                    <input type="range" class="volume-slider" id="sfxVolume" min="0" max="100" value="70">
                </div>
                
                <!-- Backgrounds -->
                <div class="setting-item" id="backgroundSettings">
                    <label class="setting-label" data-lang="chooseBackground">Choose Background</label>
                    <div class="background-options" id="backgroundOptions">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Friends Panel -->
        <div class="panel" id="friendsPanel" style="display: none;">
            <h2 data-lang="friends">Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡</h2>
            <button class="close-btn" onclick="closeFriends()"><i data-feather="x"></i></button>
            <div class="panel-content">
                <div class="setting-item">
                    <label class="setting-label" data-lang="yourCode">Your Player Code</label>
                    <div class="player-code" id="playerCode">LOADING...</div>
                </div>
                <div class="setting-item">
                    <label class="setting-label" data-lang="addFriend">Add Friend by Code</label>
                    <input type="text" class="code-input" id="friendCodeInput" placeholder="Enter friend code" maxlength="8">
                    <button class="panel-btn" onclick="addFriend()" data-lang="add">Add Friend</button>
                </div>
                <div class="friends-list" id="friendsList"></div>
            </div>
        </div>
        
        <!-- Leaderboard Panel -->
        <div class="panel" id="leaderboardPanel" style="display: none;">
            <h2 data-lang="leaderboard">Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†</h2>
            <button class="close-btn" onclick="closeLeaderboard()"><i data-feather="x"></i></button>
            <div class="panel-content">
                <div class="friends-list" id="leaderboardEntries">
                    <!-- Populated by JS -->
                </div>
            </div>
        </div>
        
        <!-- Level Complete Panel -->
        <div class="panel" id="levelCompletePanel" style="display: none;">
            <div class="panel-content" style="text-align: center;">
                <h2>ðŸŽ‰</h2>
                <h2 data-lang="levelComplete">Level Complete!</h2>
                <p data-lang="greatJob">Great job!</p>
                <button class="panel-btn" onclick="nextLevel()" data-lang="continueNext">Continue</button>
            </div>
        </div>
        
        <!-- Game Over / Error Panel -->
        <div class="panel" id="gameOverPanel" style="display: none;">
             <div class="panel-content" style="text-align: center;">
                <h2 data-lang="aiErrorTitle">Error</h2>
                <p id="gameOverTip" data-lang="aiError">Could not load puzzle.</p>
                <button class="panel-btn" onclick="retryGame()" data-lang="tryAgain">Try Again</button>
                <button class="panel-btn-secondary" onclick="backToMenu()" data-lang="mainMenu">Main Menu</button>
            </div>
        </div>
        
    </div> <!-- /#appContainer -->

    <!-- Main Game Script -->
    <script src="script.js"></script>
</body>
</html>
